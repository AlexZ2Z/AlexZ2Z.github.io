<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        @import url('https://fonts.cdnfonts.com/css/rounds-black');
        body {
            font-family: 'Rounds Black', sans-serif;
            background: rgb(63,94,251);
            background: radial-gradient(circle, rgba(63,94,251,1) 0%, rgba(252,70,107,1) 100%);
        }
        tr {
            height: 60px;
        }
        th, td {
            width: 33.3%;
        }
        img {
            box-shadow: 0px 0px 105px #4448;
        }
    </style>
</head>
<body>
<table style=" width: 100%; height: 100%; text-align: center; position: fixed">
        <thead>
            <tr>
                <th>Уравнение</th>
                <th>Левая граница (a)</th>
                <th>Правая граница (b)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td id="equation" onchange="updateData()">0<br></td>
                <td id="a" onchange="updateData()">0</td>
                <td id="b" onchange="updateData()">0</td>
            </tr>
            <tr>
                <td colspan="3">График</td>
            </tr>
            <tr>
                <td colspan="3"><img id="my-image" style="width: 33%"/></td>
            </tr>
        </tbody>
    </table>
<div id="calculator" style="width: 600px; height: 400px; visibility: hidden;"></div>
</body>
<script src="https://www.desmos.com/api/v1.7/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
<script>
    function setImageSrc(data) {
        let img = document.getElementById('my-image');
        img.src = data;
    }
    let a, b, equation, sys = false;
    function updateData() {
        a = document.getElementById("a");
        b = document.getElementById("b");
        equation = document.getElementById("equation");
        sys = equation.match("{") != null;
    }
    let elt = document.getElementById('calculator');
    let calculator = Desmos.GraphingCalculator(elt);
    if (sys) {
        let eq1 = equation.split("\n")[0].substring(1), eq2 = equation.split("\n")[1].substring(1);
        calculator.setExpression({ id: 'graph1', latex: eq1 });
        calculator.setExpression({ id: 'graph2', latex: eq2 });
        calculator.asyncScreenshot(
            {
                mode: 'preserveX',
            },
            setImageSrc
        );
    } else {
        calculator.setExpression({ id: 'graph1', latex: equation });
        calculator.asyncScreenshot(
            {
                mode: 'preserveX',
                mathBounds: { left: a, right: b }
            },
            setImageSrc
        );
    }

</script>
</html>